---
import Loop from "../layouts/loop.astro"
import {getData } from "../functions"
export async function getStaticPaths() {
  const {data} = await getData('pages','&filters[slug][$ne]=homepage')
  return data.map(page=>{
    if(page.attributes.slug != "homepage"){
      return {
      params:{
        slug:page.attributes.slug
      },
      props:{
        page
      }
    }
    }
  })
}
const {page} = Astro.props
const components = page.attributes.content
---

<Loop page={page} components={components}/>