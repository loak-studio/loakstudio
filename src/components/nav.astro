---
import Logo from "./logo.astro"
import Lbutton from "../components/lbutton.astro"
import {getData} from "../functions.js"
const {data} = await getData("navigation")
const links =  data.attributes.navlink
const cta =  data.attributes.cta
const {request} = Astro
---

<nav class="fixed flex items-center justify-between w-full px-12 py-6">
    <figure class="relative flex items-center gap-4 text-4xl">
        <Logo/>
        <figcaption class="font-title">
            <a href="/" class="before:absolute before:inset-0 text-primary">loak.studio</a>
        </figcaption>
    </figure>
    <div class="flex items-center gap-12 text-lg text-grey-dark"> 
        {links.map(link=>
            <a href={link.href} class={"transition hover:underline " + (request.url.pathname == link.href ? 'text-primary' : 'hover:text-primary')}>{link.label}</a>
        )}
        <Lbutton href={cta.href} primary={cta.primary}>
            {cta.label}
        </Lbutton>
    </div>
</nav>
